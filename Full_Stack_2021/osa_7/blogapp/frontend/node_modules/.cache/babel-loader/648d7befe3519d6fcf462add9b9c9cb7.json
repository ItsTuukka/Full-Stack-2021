{"ast":null,"code":"import axios from 'axios';\nconst baseUrl = '/api/users';\nlet token = null;\nconst STORAGE_KEY = 'loggedBlogAppUser';\n\nconst setUser = user => {\n  window.localStorage.setItem(STORAGE_KEY, JSON.stringify(user));\n  token = user.token;\n};\n\nconst getUser = () => {\n  const loggedUserJSON = window.localStorage.getItem(STORAGE_KEY);\n\n  if (loggedUserJSON) {\n    const user = JSON.parse(loggedUserJSON);\n    token = user.token;\n    return user;\n  }\n\n  return null;\n};\n\nconst clearUser = () => {\n  localStorage.clear();\n  token = null;\n};\n\nconst getToken = () => token;\n\nexport default {\n  setUser,\n  getUser,\n  clearUser,\n  getToken\n};","map":{"version":3,"sources":["/home/ytuukka/Full_Stack_2021/osa_7/blogapp/frontend/src/services/user.js"],"names":["axios","baseUrl","token","STORAGE_KEY","setUser","user","window","localStorage","setItem","JSON","stringify","getUser","loggedUserJSON","getItem","parse","clearUser","clear","getToken"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,YAAhB;AAEA,IAAIC,KAAK,GAAG,IAAZ;AAEA,MAAMC,WAAW,GAAG,mBAApB;;AAEA,MAAMC,OAAO,GAAIC,IAAD,IAAU;AACtBC,EAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BL,WAA5B,EAAyCM,IAAI,CAACC,SAAL,CAAeL,IAAf,CAAzC;AACAH,EAAAA,KAAK,GAAGG,IAAI,CAACH,KAAb;AACH,CAHD;;AAKA,MAAMS,OAAO,GAAG,MAAM;AAClB,QAAMC,cAAc,GAAGN,MAAM,CAACC,YAAP,CAAoBM,OAApB,CAA4BV,WAA5B,CAAvB;;AACA,MAAIS,cAAJ,EAAoB;AAChB,UAAMP,IAAI,GAAGI,IAAI,CAACK,KAAL,CAAWF,cAAX,CAAb;AACAV,IAAAA,KAAK,GAAGG,IAAI,CAACH,KAAb;AACA,WAAOG,IAAP;AACH;;AAED,SAAO,IAAP;AACH,CATD;;AAWA,MAAMU,SAAS,GAAG,MAAM;AACpBR,EAAAA,YAAY,CAACS,KAAb;AACAd,EAAAA,KAAK,GAAG,IAAR;AACH,CAHD;;AAKA,MAAMe,QAAQ,GAAG,MAAMf,KAAvB;;AAEA,eAAe;AACXE,EAAAA,OADW;AAEXO,EAAAA,OAFW;AAGXI,EAAAA,SAHW;AAIXE,EAAAA;AAJW,CAAf","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/users'\n\nlet token = null\n\nconst STORAGE_KEY = 'loggedBlogAppUser'\n\nconst setUser = (user) => {\n    window.localStorage.setItem(STORAGE_KEY, JSON.stringify(user))\n    token = user.token\n}\n\nconst getUser = () => {\n    const loggedUserJSON = window.localStorage.getItem(STORAGE_KEY)\n    if (loggedUserJSON) {\n        const user = JSON.parse(loggedUserJSON)\n        token = user.token\n        return user\n    }\n\n    return null\n}\n\nconst clearUser = () => {\n    localStorage.clear()\n    token = null\n}\n\nconst getToken = () => token\n\nexport default {\n    setUser,\n    getUser,\n    clearUser,\n    getToken,\n}\n"]},"metadata":{},"sourceType":"module"}